{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/TodayCost.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Banknote, Loader2, DollarSign } from \"lucide-react\";\n\n// Tariff slabs (step-wise rates)\nconst tariffSlabs = [\n  { limit: 75, rate: 4.5 },\n  { limit: 125, rate: 5.5 },\n  { limit: 100, rate: 6.5 },\n  { limit: 100, rate: 8.5 },\n  { limit: Infinity, rate: 11.0 },\n];\n\n// Calculate cost based on slabs\nfunction calculateTariffCost(units) {\n  let cost = 0;\n  let remaining = units;\n\n  for (let i = 0; i < tariffSlabs.length; i++) {\n    if (remaining <= 0) break;\n\n    const slab = tariffSlabs[i];\n    const slabUnits = Math.min(remaining, slab.limit);\n    cost += slabUnits * slab.rate;\n    remaining -= slabUnits;\n  }\n\n  return cost;\n}\n\nexport function TodayCost() {\n  const [initialLoading, setInitialLoading] = useState(true);\n  const [kwh, setKwh] = useState(0);\n  const [tariffCost, setTariffCost] = useState(0);\n\n  useEffect(() => {\n    const fetchTodayConsumption = async () => {\n      try {\n        const response = await fetch(\"/api/today-consumption\");\n\n        const contentType = response.headers.get(\"content-type\");\n        if (!contentType || !contentType.includes(\"application/json\")) {\n          const text = await response.text(); // fallback to reading as text\n          console.error(\"Non-JSON response received:\", text);\n          return;\n        }\n\n        const result = await response.json();\n\n        if (result.success) {\n          const units = result.data.kwh;\n          const cost = calculateTariffCost(units);\n\n          setKwh(units);\n          setTariffCost(cost);\n        } else {\n          console.error(\"Failed to fetch:\", result.error);\n        }\n      } catch (error) {\n        console.error(\"Fetch error:\", error);\n      } finally {\n        setInitialLoading(false);\n      }\n    };\n\n    fetchTodayConsumption();\n  }, []);\n\n  return (\n    <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 h-full\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl blur-lg opacity-50\"></div>\n            <div className=\"relative bg-gradient-to-r from-yellow-500 to-orange-600 p-2 rounded-xl\">\n              <Banknote className=\"h-5 w-5 text-white\" />\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">Today's Cost</h3>\n            <p className=\"text-sm text-blue-200\">Electricity Bill</p>\n          </div>\n        </div>\n        <div className=\"w-8 h-8 bg-yellow-500/20 rounded-lg flex items-center justify-center\">\n          <DollarSign className=\"h-4 w-4 text-yellow-300\" />\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"space-y-4\">\n        {initialLoading ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"text-center\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-yellow-400 mx-auto mb-3\" />\n              <span className=\"text-white font-medium\">\n                Calculating cost...\n              </span>\n            </div>\n          </div>\n        ) : (\n          <>\n            {/* Cost Display */}\n            <div className=\"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 backdrop-blur-sm rounded-xl p-6 border border-yellow-400/30\">\n              <div className=\"text-center\">\n                <div className=\"text-4xl font-bold text-white mb-2\">\n                  à§³{tariffCost.toFixed(2)}\n                </div>\n                <div className=\"text-sm text-yellow-200 font-medium\">\n                  Total cost today\n                </div>\n              </div>\n            </div>\n\n            {/* Details */}\n            <div className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-sm text-white font-medium\">\n                  Units Consumed\n                </span>\n                <span className=\"text-sm text-blue-200 font-bold\">\n                  {kwh.toFixed(2)} kWh\n                </span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-white font-medium\">\n                  Rate Type\n                </span>\n                <span className=\"text-xs text-blue-200\">Step-wise tariff</span>\n              </div>\n            </div>\n\n            {/* Tariff Info */}\n            <div className=\"bg-gradient-to-br from-orange-500/10 to-red-500/10 backdrop-blur-sm rounded-xl p-3 border border-orange-400/20\">\n              <div className=\"text-xs text-orange-200 text-center\">\n                Based on Bangladeshi official tariff slabs\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/lib/utils.js"],"sourcesContent":["import { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAM;IAC1B,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardHeader({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardTitle({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props} />)\n  );\n}\n\nfunction CardDescription({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props} />)\n  );\n}\n\nfunction CardAction({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardContent({\n  className,\n  ...props\n}) {\n  return (<div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />);\n}\n\nfunction CardFooter({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props} />)\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAEA;;;;AAEA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBAAQ,8OAAC;QAAI,aAAU;QAAe,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QAAa,GAAG,KAAK;;;;;;AACnF;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/ui/chart.jsx"],"sourcesContent":["\"use client\";\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = {\n  light: \"\",\n  dark: \".dark\"\n}\n\nconst ChartContext = React.createContext(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nfunction ChartContainer({\n  id,\n  className,\n  children,\n  config,\n  ...props\n}) {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    (<ChartContext.Provider value={{ config }}>\n      <div\n        data-slot=\"chart\"\n        data-chart={chartId}\n        className={cn(\n          \"[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden\",\n          className\n        )}\n        {...props}>\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>)\n  );\n}\n\nconst ChartStyle = ({\n  id,\n  config\n}) => {\n  const colorConfig = Object.entries(config).filter(([, config]) => config.theme || config.color)\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    (<style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n.map(([key, itemConfig]) => {\nconst color =\n  itemConfig.theme?.[theme] ||\n  itemConfig.color\nreturn color ? `  --color-${key}: ${color};` : null\n})\n.join(\"\\n\")}\n}\n`)\n          .join(\"\\n\"),\n      }} />)\n  );\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nfunction ChartTooltipContent({\n  active,\n  payload,\n  className,\n  indicator = \"dot\",\n  hideLabel = false,\n  hideIndicator = false,\n  label,\n  labelFormatter,\n  labelClassName,\n  formatter,\n  color,\n  nameKey,\n  labelKey\n}) {\n  const { config } = useChart()\n\n  const tooltipLabel = React.useMemo(() => {\n    if (hideLabel || !payload?.length) {\n      return null\n    }\n\n    const [item] = payload\n    const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n    const itemConfig = getPayloadConfigFromPayload(config, item, key)\n    const value =\n      !labelKey && typeof label === \"string\"\n        ? config[label]?.label || label\n        : itemConfig?.label\n\n    if (labelFormatter) {\n      return (\n        (<div className={cn(\"font-medium\", labelClassName)}>\n          {labelFormatter(value, payload)}\n        </div>)\n      );\n    }\n\n    if (!value) {\n      return null\n    }\n\n    return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>;\n  }, [\n    label,\n    labelFormatter,\n    payload,\n    hideLabel,\n    labelClassName,\n    config,\n    labelKey,\n  ])\n\n  if (!active || !payload?.length) {\n    return null\n  }\n\n  const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n  return (\n    (<div\n      className={cn(\n        \"border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl\",\n        className\n      )}>\n      {!nestLabel ? tooltipLabel : null}\n      <div className=\"grid gap-1.5\">\n        {payload.map((item, index) => {\n          const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n          const indicatorColor = color || item.payload.fill || item.color\n\n          return (\n            (<div\n              key={item.dataKey}\n              className={cn(\n                \"[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5\",\n                indicator === \"dot\" && \"items-center\"\n              )}>\n              {formatter && item?.value !== undefined && item.name ? (\n                formatter(item.value, item.name, item, index, item.payload)\n              ) : (\n                <>\n                  {itemConfig?.icon ? (\n                    <itemConfig.icon />\n                  ) : (\n                    !hideIndicator && (\n                      <div\n                        className={cn(\"shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)\", {\n                          \"h-2.5 w-2.5\": indicator === \"dot\",\n                          \"w-1\": indicator === \"line\",\n                          \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                            indicator === \"dashed\",\n                          \"my-0.5\": nestLabel && indicator === \"dashed\",\n                        })}\n                        style={\n                          {\n                            \"--color-bg\": indicatorColor,\n                            \"--color-border\": indicatorColor\n                          }\n                        } />\n                    )\n                  )}\n                  <div\n                    className={cn(\n                      \"flex flex-1 justify-between leading-none\",\n                      nestLabel ? \"items-end\" : \"items-center\"\n                    )}>\n                    <div className=\"grid gap-1.5\">\n                      {nestLabel ? tooltipLabel : null}\n                      <span className=\"text-muted-foreground\">\n                        {itemConfig?.label || item.name}\n                      </span>\n                    </div>\n                    {item.value && (\n                      <span className=\"text-foreground font-mono font-medium tabular-nums\">\n                        {item.value.toLocaleString()}\n                      </span>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>)\n          );\n        })}\n      </div>\n    </div>)\n  );\n}\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nfunction ChartLegendContent({\n  className,\n  hideIcon = false,\n  payload,\n  verticalAlign = \"bottom\",\n  nameKey\n}) {\n  const { config } = useChart()\n\n  if (!payload?.length) {\n    return null\n  }\n\n  return (\n    (<div\n      className={cn(\n        \"flex items-center justify-center gap-4\",\n        verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n        className\n      )}>\n      {payload.map((item) => {\n        const key = `${nameKey || item.dataKey || \"value\"}`\n        const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n        return (\n          (<div\n            key={item.value}\n            className={cn(\n              \"[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3\"\n            )}>\n            {itemConfig?.icon && !hideIcon ? (\n              <itemConfig.icon />\n            ) : (\n              <div\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                style={{\n                  backgroundColor: item.color,\n                }} />\n            )}\n            {itemConfig?.label}\n          </div>)\n        );\n      })}\n    </div>)\n  );\n}\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config,\n  payload,\n  key\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey = key\n\n  if (\n    key in payload &&\n    typeof payload[key] === \"string\"\n  ) {\n    configLabelKey = payload[key]\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[key]\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key];\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 737, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/ui/select.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />;\n}\n\nfunction SelectGroup({\n  ...props\n}) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />;\n}\n\nfunction SelectValue({\n  ...props\n}) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />;\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}) {\n  return (\n    (<SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}>\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>)\n  );\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  ...props\n}) {\n  return (\n    (<SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        {...props}>\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\"p-1\", position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\")}>\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>)\n  );\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}) {\n  return (\n    (<SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props} />)\n  );\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}) {\n  return (\n    (<SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}>\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>)\n  );\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}) {\n  return (\n    (<SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props} />)\n  );\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}) {\n  return (\n    (<SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n      {...props}>\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>)\n  );\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}) {\n  return (\n    (<SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n      {...props}>\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>)\n  );\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 962, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/app/Main_chart.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Area, CartesianGrid, XAxis, YAxis, ComposedChart } from \"recharts\";\nimport {\n  Loader2,\n  RefreshCw,\n  Zap,\n  TrendingUp,\n  Activity,\n  BarChart3,\n} from \"lucide-react\";\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  ChartContainer,\n  ChartLegend,\n  ChartLegendContent,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@/components/ui/chart\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\nconst chartConfig = {\n  power: {\n    label: \"Power (W)\",\n    color: \"#ff6b6b\", // Changed to bright red\n  },\n  current: {\n    label: \"Current (mA)\",\n    color: \"#4ecdc4\", // Changed to bright teal\n  },\n  voltage: {\n    label: \"Voltage (V)\",\n    color: \"#45b7d1\", // Changed to bright blue\n  },\n};\n\nexport function ChartAreaInteractive() {\n  const [timeRange, setTimeRange] = React.useState(\"1d\");\n  const [chartData, setChartData] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [refreshing, setRefreshing] = React.useState(false);\n\n  // Fetch data from API\n  const fetchData = async (isRefresh = false) => {\n    try {\n      if (isRefresh) {\n        setRefreshing(true);\n      } else {\n        ``;\n        setLoading(true);\n      }\n\n      setError(null);\n      const response = await fetch(\"/api/today-data\");\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success) {\n        setChartData(result.data);\n      } else {\n        throw new Error(\"Failed to fetch data\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching data:\", err);\n      setError(err.message);\n    } finally {\n      if (isRefresh) {\n        setRefreshing(false);\n      } else {\n        setLoading(false);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleRefresh = () => {\n    fetchData(true);\n  };\n\n  // Get filtered data based on time range\n  const getFilteredData = () => {\n    if (!chartData) return [];\n\n    switch (timeRange) {\n      case \"1d\":\n        return chartData.today || [];\n      case \"7d\":\n        const weekData = chartData.week || [];\n        console.log(\"Last 7 days data:\", weekData);\n        return weekData;\n      case \"30d\":\n        return chartData.month || [];\n      default:\n        return chartData.week || [];\n    }\n  };\n\n  const filteredData = getFilteredData();\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className=\"min-h-screen p-8 relative overflow-hidden\">\n        {/* Animated Background Elements */}\n        <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n          <div\n            className=\"absolute top-1/4 left-1/4 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20\"\n            style={{\n              animation: \"blob 7s infinite\",\n            }}\n          ></div>\n          <div\n            className=\"absolute top-1/3 right-1/4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20\"\n            style={{\n              animation: \"blob 7s infinite\",\n              animationDelay: \"2s\",\n            }}\n          ></div>\n          <div\n            className=\"absolute bottom-1/4 left-1/3 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20\"\n            style={{\n              animation: \"blob 7s infinite\",\n              animationDelay: \"4s\",\n            }}\n          ></div>\n        </div>\n\n        <div className=\"max-w-7xl mx-auto relative\">\n          {/* Glass Container */}\n          <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl p-8\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-8\">\n              <div className=\"flex items-center space-x-6\">\n                <div className=\"relative\">\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-2xl blur-lg opacity-50\"></div>\n                  <div className=\"relative bg-gradient-to-r from-blue-500 to-purple-600 p-4 rounded-2xl\">\n                    <BarChart3 className=\"h-8 w-8 text-white\" />\n                  </div>\n                </div>\n                <div>\n                  <h1 className=\"text-2xl font-bold text-white mb-2\">\n                    Power Consumption Chart\n                  </h1>\n                  <p className=\"text-blue-200 text-lg\">\n                    Loading energy insights...\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Loading Animation */}\n            <div className=\"flex items-center justify-center h-96 bg-white/5 rounded-2xl border border-white/10\">\n              <div className=\"text-center\">\n                <div className=\"relative w-24 h-24 mx-auto mb-8\">\n                  <div className=\"absolute inset-0 border-4 border-blue-500/30 rounded-full\"></div>\n                  <div className=\"absolute inset-0 border-4 border-blue-500 rounded-full border-t-transparent animate-spin\"></div>\n                  <Loader2 className=\"absolute inset-0 m-auto h-8 w-8 text-blue-400\" />\n                </div>\n                <h3 className=\"text-2xl font-semibold text-white mb-4\">\n                  Analyzing Power Data\n                </h3>\n                <p className=\"text-blue-200 text-lg\">\n                  Connecting to energy monitoring systems...\n                </p>\n                <div className=\"flex justify-center mt-6 space-x-1\">\n                  <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"></div>\n                  <div\n                    className=\"w-2 h-2 bg-purple-500 rounded-full animate-bounce\"\n                    style={{ animationDelay: \"0.1s\" }}\n                  ></div>\n                  <div\n                    className=\"w-2 h-2 bg-pink-500 rounded-full animate-bounce\"\n                    style={{ animationDelay: \"0.2s\" }}\n                  ></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* CSS Animation */}\n        <style jsx>{`\n          @keyframes blob {\n            0% {\n              transform: translate(0px, 0px) scale(1);\n            }\n            33% {\n              transform: translate(30px, -50px) scale(1.1);\n            }\n            66% {\n              transform: translate(-20px, 20px) scale(0.9);\n            }\n            100% {\n              transform: translate(0px, 0px) scale(1);\n            }\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Show error state\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-red-900 via-orange-900 to-yellow-800 p-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl p-8\">\n            <div className=\"flex items-center space-x-6 mb-8\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 bg-gradient-to-r from-red-400 to-orange-500 rounded-2xl blur-lg opacity-50\"></div>\n                <div className=\"relative bg-gradient-to-r from-red-500 to-orange-600 p-4 rounded-2xl\">\n                  <Activity className=\"h-8 w-8 text-white\" />\n                </div>\n              </div>\n              <div>\n                <h1 className=\"text-4xl font-bold text-white mb-2\">\n                  Connection Error\n                </h1>\n                <p className=\"text-red-200 text-lg\">\n                  Unable to fetch power data\n                </p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-center h-96 bg-white/5 rounded-2xl border border-white/10\">\n              <div className=\"text-center max-w-lg\">\n                <div className=\"w-24 h-24 mx-auto mb-8 bg-gradient-to-r from-red-500 to-orange-500 rounded-full flex items-center justify-center\">\n                  <Activity className=\"h-12 w-12 text-white\" />\n                </div>\n                <h3 className=\"text-2xl font-semibold text-white mb-4\">\n                  Data Fetch Failed\n                </h3>\n                <div className=\"bg-white/10 backdrop-blur-sm rounded-xl p-4 mb-6 border border-white/20\">\n                  <p className=\"text-red-200 font-mono text-sm\">{error}</p>\n                </div>\n                <button\n                  onClick={() => fetchData()}\n                  className=\"px-8 py-3 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center gap-2 mx-auto\"\n                >\n                  <RefreshCw className=\"h-5 w-5\" />\n                  Retry Connection\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen  p-8 relative overflow-hidden\">\n      {/* Animated Background Elements */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div\n          className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-10\"\n          style={{\n            animation: \"blob 7s infinite\",\n          }}\n        ></div>\n        <div\n          className=\"absolute top-1/3 right-1/4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-10\"\n          style={{\n            animation: \"blob 7s infinite\",\n            animationDelay: \"2s\",\n          }}\n        ></div>\n        <div\n          className=\"absolute bottom-1/4 left-1/3 w-96 h-96 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-10\"\n          style={{\n            animation: \"blob 7s infinite\",\n            animationDelay: \"4s\",\n          }}\n        ></div>\n      </div>\n\n      <div className=\"relative\">\n        <Card className=\"relative backdrop-blur-xl bg-white/10 border-white/20 shadow-2xl rounded-3xl overflow-hidden\">\n          <CardHeader className=\"border-b border-white/10 p-8\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-7\">\n                <div className=\"relative group\">\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-2xl blur-lg opacity-50 group-hover:opacity-70 transition-opacity\"></div>\n                  <div className=\"relative bg-gradient-to-r from-blue-500 to-cyan-500 p-2 rounded-2xl\">\n                    <TrendingUp className=\"h-8 w-8 text-white\" />\n                  </div>\n                </div>\n                <div>\n                  <CardTitle className=\"text-2xl font-bold text-white mb-2\">\n                    Power Consumption Chart\n                  </CardTitle>\n                  <CardDescription className=\"text-blue-200 text-lg\">\n                    Real-time energy monitoring & insights\n                  </CardDescription>\n                </div>\n              </div>\n\n              {/* Controls */}\n              <div className=\"flex items-center space-x-4\">\n                <Select value={timeRange} onValueChange={setTimeRange}>\n                  <SelectTrigger className=\"w-48 h-12 bg-white/10 border-white/20 text-white backdrop-blur-sm rounded-xl hover:bg-white/20 transition-all\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent className=\"bg-slate-900/95 border-white/20 backdrop-blur-xl rounded-xl\">\n                    <SelectItem\n                      value=\"1d\"\n                      className=\"text-white hover:bg-white/10 rounded-lg\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-3 h-3 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full\"></div>\n                        Today\n                      </div>\n                    </SelectItem>\n                    <SelectItem\n                      value=\"7d\"\n                      className=\"text-white hover:bg-white/10 rounded-lg\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-3 h-3 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full\"></div>\n                        Last 7 days\n                      </div>\n                    </SelectItem>\n                    <SelectItem\n                      value=\"30d\"\n                      className=\"text-white hover:bg-white/10 rounded-lg\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full\"></div>\n                        Last 30 days\n                      </div>\n                    </SelectItem>\n                  </SelectContent>\n                </Select>\n\n                <button\n                  onClick={handleRefresh}\n                  disabled={refreshing}\n                  className=\"w-12 h-12 bg-white/10 border border-white/20 rounded-xl backdrop-blur-sm hover:bg-white/20 transition-all group disabled:opacity-50\"\n                >\n                  <RefreshCw\n                    className={`h-6 w-6 text-white mx-auto group-hover:text-blue-300 transition-colors ${\n                      refreshing ? \"animate-spin\" : \"\"\n                    }`}\n                  />\n                </button>\n              </div>\n            </div>\n          </CardHeader>\n\n          <CardContent className=\"p-8\">\n            <div className=\"relative bg-white/5 backdrop-blur-sm rounded-2xl border border-white/10 overflow-hidden\">\n              {/* Chart Background Pattern */}\n              <div\n                className=\"absolute inset-0 opacity-5\"\n                style={{\n                  background:\n                    \"linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%)\",\n                }}\n              ></div>\n              <div\n                className=\"absolute inset-0 opacity-5\"\n                style={{\n                  backgroundImage:\n                    \"radial-gradient(circle at 25px 25px, rgba(255,255,255,0.1) 2px, transparent 0)\",\n                  backgroundSize: \"50px 50px\",\n                }}\n              ></div>\n\n              <div className=\"relative p-6\">\n                <ChartContainer\n                  config={chartConfig}\n                  className=\"aspect-auto h-80 w-full\"\n                >\n                  <ComposedChart data={filteredData}>\n                    <defs>\n                      <linearGradient\n                        id=\"fillPower\"\n                        x1=\"0\"\n                        y1=\"0\"\n                        x2=\"0\"\n                        y2=\"1\"\n                      >\n                        <stop\n                          offset=\"5%\"\n                          stopColor=\"var(--color-power)\"\n                          stopOpacity={0.9}\n                        />\n                        <stop\n                          offset=\"95%\"\n                          stopColor=\"var(--color-power)\"\n                          stopOpacity={0.1}\n                        />\n                      </linearGradient>\n                      <linearGradient\n                        id=\"fillCurrent\"\n                        x1=\"0\"\n                        y1=\"0\"\n                        x2=\"0\"\n                        y2=\"1\"\n                      >\n                        <stop\n                          offset=\"5%\"\n                          stopColor=\"var(--color-current)\"\n                          stopOpacity={0.9}\n                        />\n                        <stop\n                          offset=\"95%\"\n                          stopColor=\"var(--color-current)\"\n                          stopOpacity={0.1}\n                        />\n                      </linearGradient>\n                      <linearGradient\n                        id=\"fillVoltage\"\n                        x1=\"0\"\n                        y1=\"0\"\n                        x2=\"0\"\n                        y2=\"1\"\n                      >\n                        <stop\n                          offset=\"5%\"\n                          stopColor=\"var(--color-voltage)\"\n                          stopOpacity={0.9}\n                        />\n                        <stop\n                          offset=\"95%\"\n                          stopColor=\"var(--color-voltage)\"\n                          stopOpacity={0.1}\n                        />\n                      </linearGradient>\n                    </defs>\n                    <CartesianGrid\n                      vertical={false}\n                      stroke=\"rgba(255,255,255,0.2)\"\n                      strokeDasharray=\"3 3\"\n                    />\n                    <XAxis\n                      dataKey={timeRange === \"1d\" ? \"hour\" : \"date\"}\n                      tickLine={false}\n                      axisLine={false}\n                      tickMargin={12}\n                      minTickGap={32}\n                      tick={{\n                        fill: \"#ffffff\", // Changed to white for better visibility\n                        fontSize: 14, // Increased font size\n                        fontWeight: 600, // Made bold\n                      }}\n                      tickFormatter={(value) => {\n                        if (timeRange === \"1d\") {\n                          return `${value}:00`;\n                        } else {\n                          const date = new Date(value);\n                          return date.toLocaleDateString(\"en-US\", {\n                            month: \"short\",\n                            day: \"numeric\",\n                          });\n                        }\n                      }}\n                      style={{\n                        fill: \"#DEDEDE\",\n                      }}\n                    />\n                    <YAxis\n                      yAxisId=\"left\"\n                      tickLine={false}\n                      axisLine={false}\n                      tickMargin={12}\n                      tick={{\n                        fill: \"#ffffff\", // Changed to white for better visibility\n                        fontSize: 14, // Increased font size\n                        fontWeight: 600, // Made bold\n                      }}\n                      tickFormatter={(value) => `${value}`}\n                      domain={[0, 5000]}\n                      style={{\n                        fill: \"#EDEDED\",\n                      }}\n                    />\n                    <YAxis\n                      yAxisId=\"right\"\n                      orientation=\"right\"\n                      tickLine={false}\n                      axisLine={false}\n                      tickMargin={12}\n                      tick={{\n                        fill: \"#ffffff\", // Changed to white for better visibility\n                        fontSize: 14, // Increased font size\n                        fontWeight: 600, // Made bold\n                      }}\n                      tickFormatter={(value) => `${value}V`}\n                      domain={[200, 260]}\n                      style={{\n                        fill: \"#EDEDED\",\n                      }}\n                    />\n                    <ChartTooltip\n                      cursor={{\n                        strokeDasharray: \"3 3\",\n                        stroke: \"rgba(255,255,255,0.3)\",\n                        strokeWidth: 1,\n                      }}\n                      content={\n                        <ChartTooltipContent\n                          className=\" backdrop-blur-xl border border-white/20 rounded-xl shadow-2xl\"\n                          labelFormatter={(value) => {\n                            if (timeRange === \"1d\") {\n                              return `${value}:00`;\n                            } else {\n                              return new Date(value).toLocaleDateString(\n                                \"en-US\",\n                                {\n                                  month: \"short\",\n                                  day: \"numeric\",\n                                }\n                              );\n                            }\n                          }}\n                          indicator=\"dot\"\n                        />\n                      }\n                    />\n                    <Area\n                      dataKey=\"power\"\n                      type=\"monotone\"\n                      fill=\"url(#fillPower)\"\n                      stroke=\"var(--color-power)\"\n                      strokeWidth={3}\n                      yAxisId=\"left\"\n                      dot={{ fill: \"var(--color-power)\", strokeWidth: 0, r: 4 }}\n                      activeDot={{\n                        r: 6,\n                        strokeWidth: 0,\n                        fill: \"var(--color-power)\",\n                      }}\n                    />\n                    <Area\n                      dataKey=\"current\"\n                      type=\"monotone\"\n                      fill=\"url(#fillCurrent)\"\n                      stroke=\"var(--color-current)\"\n                      strokeWidth={3}\n                      yAxisId=\"left\"\n                      dot={{\n                        fill: \"var(--color-current)\",\n                        strokeWidth: 0,\n                        r: 4,\n                      }}\n                      activeDot={{\n                        r: 6,\n                        strokeWidth: 0,\n                        fill: \"var(--color-current)\",\n                      }}\n                    />\n                    <Area\n                      dataKey=\"voltage\"\n                      type=\"monotone\"\n                      fill=\"url(#fillVoltage)\"\n                      stroke=\"var(--color-voltage)\"\n                      strokeWidth={3}\n                      yAxisId=\"right\"\n                      dot={{\n                        fill: \"var(--color-voltage)\",\n                        strokeWidth: 0,\n                        r: 4,\n                      }}\n                      activeDot={{\n                        r: 6,\n                        strokeWidth: 0,\n                        fill: \"var(--color-voltage)\",\n                      }}\n                    />\n                    <ChartLegend\n                      content={\n                        <ChartLegendContent className=\"flex justify-center gap-6 pt-4 text-white font-semibold\" />\n                      }\n                    />\n                  </ComposedChart>\n                </ChartContainer>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* CSS Animation */}\n      <style jsx>{`\n        @keyframes blob {\n          0% {\n            transform: translate(0px, 0px) scale(1);\n          }\n          33% {\n            transform: translate(30px, -50px) scale(1.1);\n          }\n          66% {\n            transform: translate(-20px, 20px) scale(0.9);\n          }\n          100% {\n            transform: translate(0px, 0px) scale(1);\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2118, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/DeviceControl.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Power, Loader2, Settings } from \"lucide-react\";\n\nexport function DeviceControl() {\n  const [switchState, setSwitchState] = React.useState(false);\n  const [switchLoading, setSwitchLoading] = React.useState(false);\n  const [initialLoading, setInitialLoading] = React.useState(true);\n\n  // Fetch initial switch status\n  React.useEffect(() => {\n    const fetchSwitchStatus = async () => {\n      try {\n        const response = await fetch(\"/api/switch-status\");\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const result = await response.json();\n\n        if (result.success && result.data) {\n          setSwitchState(result.data.switch);\n          console.log(\"Current switch status:\", result.data.switch);\n        } else {\n          console.error(\"Failed to fetch switch status:\", result.error);\n        }\n      } catch (err) {\n        console.error(\"Error fetching switch status:\", err);\n      } finally {\n        setInitialLoading(false);\n      }\n    };\n\n    fetchSwitchStatus();\n  }, []);\n\n  const handleSwitchToggle = async () => {\n    const newState = !switchState;\n    try {\n      setSwitchLoading(true);\n      const response = await fetch(\"/api/switch\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ state: newState }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success) {\n        setSwitchState(newState);\n        console.log(`Device switched ${newState ? \"on\" : \"off\"} successfully`);\n      } else {\n        throw new Error(result.error || \"Failed to control device switch\");\n      }\n    } catch (err) {\n      console.error(\"Error controlling device switch:\", err);\n      alert(`Failed to switch device: ${err.message}`);\n    } finally {\n      setSwitchLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 h-full\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-500 rounded-xl blur-lg opacity-50\"></div>\n            <div className=\"relative bg-gradient-to-r from-green-500 to-emerald-600 p-2 rounded-xl\">\n              <Power className=\"h-5 w-5 text-white\" />\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">Device Control</h3>\n            <p className=\"text-sm text-blue-200\">Power Management</p>\n          </div>\n        </div>\n        <div className=\"w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center\">\n          <Settings className=\"h-4 w-4 text-green-300\" />\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"space-y-6\">\n        {/* Status Display */}\n        <div className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n          <div className=\"text-center\">\n            <span className=\"text-sm font-semibold text-white mb-3 block\">\n              Power Status\n            </span>\n            {initialLoading ? (\n              <div className=\"flex items-center justify-center gap-2 text-blue-200\">\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n                <span className=\"text-sm\">Loading...</span>\n              </div>\n            ) : (\n              <div\n                className={`flex items-center justify-center gap-2 px-4 py-2 rounded-full ${\n                  switchState\n                    ? \"bg-green-500/20 border border-green-400/30\"\n                    : \"bg-red-500/20 border border-red-400/30\"\n                }`}\n              >\n                <div\n                  className={`w-2 h-2 rounded-full ${\n                    switchState ? \"bg-green-400 animate-pulse\" : \"bg-red-400\"\n                  }`}\n                ></div>\n                <span\n                  className={`text-sm font-medium ${\n                    switchState ? \"text-green-300\" : \"text-red-300\"\n                  }`}\n                >\n                  {switchState ? \"ONLINE\" : \"OFFLINE\"}\n                </span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Smart Control Button */}\n        <div className=\"flex justify-center\">\n          <button\n            onClick={handleSwitchToggle}\n            disabled={switchLoading || initialLoading}\n            className={`relative group w-20 h-20 rounded-full transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed ${\n              switchState\n                ? \"bg-gradient-to-br from-green-400 to-green-600 shadow-lg shadow-green-500/25 hover:shadow-green-500/40\"\n                : \"bg-gradient-to-br from-red-400 to-red-600 shadow-lg shadow-red-500/25 hover:shadow-red-500/40\"\n            }`}\n          >\n            {/* Loading Overlay */}\n            {switchLoading && (\n              <div className=\"absolute inset-0 flex items-center justify-center bg-black/20 rounded-full\">\n                <Loader2 className=\"h-6 w-6 animate-spin text-white\" />\n              </div>\n            )}\n\n            {/* Icon */}\n            <div className=\"flex items-center justify-center h-full\">\n              <Power\n                className={`h-8 w-8 text-white transition-all duration-300 ${\n                  switchState ? \"rotate-0\" : \"rotate-180\"\n                }`}\n              />\n            </div>\n\n            {/* Glow Effect */}\n            <div\n              className={`absolute inset-0 rounded-full blur-xl opacity-0 group-hover:opacity-50 transition-opacity duration-300 ${\n                switchState ? \"bg-green-400\" : \"bg-red-400\"\n              }`}\n            ></div>\n          </button>\n        </div>\n\n        {/* Action Text */}\n        <div className=\"text-center\">\n          <span className=\"text-xs text-blue-200\">\n            {switchLoading\n              ? \"Processing...\"\n              : `Click to turn ${switchState ? \"OFF\" : \"ON\"}`}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2435, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/UnitkwhChart.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Activity, TrendingUp, Loader2, RefreshCw } from \"lucide-react\";\nimport { Area, AreaChart, CartesianGrid, XAxis } from \"recharts\";\n\nimport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@/components/ui/chart\";\n\nexport const description = \"A step area chart\";\n\nconst chartConfig = {\n  unit: {\n    label: \"Unit (kWh)\",\n    color: \"#4ecdc4\",\n    icon: Activity,\n  },\n};\n\nexport function UnitkwhChart() {\n  const [chartData, setChartData] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [refreshing, setRefreshing] = React.useState(false);\n\n  // Fetch kWh data from API\n  const fetchKwhData = async (isRefresh = false) => {\n    try {\n      if (isRefresh) {\n        setRefreshing(true);\n      } else {\n        setLoading(true);\n      }\n      setError(null);\n\n      const response = await fetch(\"/api/today-data\");\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success && result.data) {\n        // Process the data from our API structure\n        const dataPoints = result.data;\n        \n        // Calculate daily kWh based on power consumption\n        const dailyKwhData = dataPoints.map((item, index) => {\n          const date = new Date();\n          date.setDate(date.getDate() - (dataPoints.length - 1 - index));\n          const dayName = date.toLocaleDateString(\"en-US\", {\n            weekday: \"short\",\n          });\n\n          // Extract power value from the data structure\n          const powerItem = item.data?.find(d => d.code === \"cur_power\");\n          const power = powerItem ? powerItem.value : 0;\n          const dailyKwh = (power / 1000) * 8; // Convert to kWh (assuming 8 hours usage)\n\n          return {\n            day: dayName,\n            unit: parseFloat(dailyKwh.toFixed(2)), // Round to 2 decimal places\n          };\n        });\n\n        setChartData(dailyKwhData);\n      } else {\n        throw new Error(\"Failed to fetch kWh data\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching kWh data:\", err);\n      setError(err.message);\n\n      // Fallback to sample data on error\n      setChartData([\n        { day: \"Mon\", unit: 8.8 },\n        { day: \"Tue\", unit: 9.6 },\n        { day: \"Wed\", unit: 12.0 },\n        { day: \"Thu\", unit: 12.8 },\n        { day: \"Fri\", unit: 13.6 },\n        { day: \"Sat\", unit: 14.4 },\n        { day: \"Sun\", unit: 15.2 },\n      ]);\n    } finally {\n      if (isRefresh) {\n        setRefreshing(false);\n      } else {\n        setLoading(false);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    fetchKwhData();\n  }, []);\n\n  const handleRefresh = () => {\n    fetchKwhData();\n  };\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 w-[600px] h-[430px] flex flex-col\">\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-teal-400 to-cyan-500 rounded-xl blur-lg opacity-50\"></div>\n            <div className=\"relative bg-gradient-to-r from-teal-500 to-cyan-600 p-3 rounded-xl\">\n              <Activity className=\"h-5 w-5 text-white\" />\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">\n              Weekly Unit kWh Chart\n            </h3>\n            <p className=\"text-sm text-blue-200\">Loading energy data...</p>\n          </div>\n        </div>\n\n        <div className=\"flex-1 flex items-center justify-center bg-white/5 backdrop-blur-sm rounded-xl border border-white/10\">\n          <div className=\"flex items-center gap-3\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-white\" />\n            <span className=\"text-white font-medium\">\n              Loading chart data...\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 w-[600px] h-[430px] flex flex-col\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 bg-gradient-to-r from-red-400 to-orange-500 rounded-xl blur-lg opacity-50\"></div>\n              <div className=\"relative bg-gradient-to-r from-red-500 to-orange-600 p-3 rounded-xl\">\n                <Activity className=\"h-5 w-5 text-white\" />\n              </div>\n            </div>\n            <div>\n              <h3 className=\"text-lg font-bold text-white\">\n                Weekly Unit kWh Chart\n              </h3>\n              <p className=\"text-sm text-red-200\">Failed to load data</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex-1 flex items-center justify-center bg-white/5 backdrop-blur-sm rounded-xl border border-white/10\">\n          <div className=\"text-center space-y-4\">\n            <p className=\"text-sm text-red-200\">{error}</p>\n            <button\n              onClick={handleRefresh}\n              disabled={refreshing}\n              className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-xl font-medium hover:shadow-lg transition-all\"\n            >\n              <RefreshCw\n                className={`h-4 w-4 ${refreshing ? \"animate-spin\" : \"\"}`}\n              />\n              Retry\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 w-[600px] h-[430px] flex flex-col\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-teal-400 to-cyan-500 rounded-xl blur-lg opacity-50\"></div>\n            <div className=\"relative bg-gradient-to-r from-teal-500 to-cyan-600 p-3 rounded-xl\">\n              <Activity className=\"h-5 w-5 text-white\" />\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">\n              Weekly Unit kWh Chart\n            </h3>\n            <p className=\"text-sm text-blue-200\">\n              Daily energy consumption for the last 7 days\n            </p>\n          </div>\n        </div>\n\n        <button\n          onClick={handleRefresh}\n          disabled={refreshing}\n          className=\"flex items-center gap-2 px-3 py-2 bg-white/10 border border-white/20 rounded-xl text-white hover:bg-white/20 transition-all\"\n        >\n          <RefreshCw\n            className={`h-4 w-4 ${refreshing ? \"animate-spin\" : \"\"}`}\n          />\n          <span className=\"text-sm font-medium\">Refresh</span>\n        </button>\n      </div>\n\n      {/* Chart */}\n      <div className=\"flex-1 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-4\">\n        <ChartContainer config={chartConfig} className=\"h-[260px] w-full\">\n          <AreaChart\n            accessibilityLayer\n            data={chartData}\n            margin={{\n              left: 12,\n              right: 12,\n            }}\n          >\n            <defs>\n              <linearGradient id=\"fillUnit\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"#ffffff\" stopOpacity={0.8} />\n                <stop offset=\"95%\" stopColor=\"#4ecdc4\" stopOpacity={0.1} />\n              </linearGradient>\n            </defs>\n            <CartesianGrid vertical={false} stroke=\"rgba(255,255,255,0.1)\" />\n            <XAxis\n              dataKey=\"day\"\n              tickLine={false}\n              axisLine={false}\n              tickMargin={8}\n              tick={{ fontSize: 12, fontWeight: 600 }}\n              tickFormatter={(value) => value.slice(0, 3)}\n              style={{\n                fill: \"#EDEDED\",\n              }}\n            />\n            <ChartTooltip\n              cursor={false}\n              content={\n                <ChartTooltipContent\n                  className=\"bg-slate-900/95 backdrop-blur-xl border border-white/20 rounded-xl text-white\"\n                  hideLabel\n                />\n              }\n            />\n            <Area\n              dataKey=\"unit\"\n              type=\"step\"\n              fill=\"url(#fillUnit)\"\n              fillOpacity={0.4}\n              stroke=\"#4ecdc4\"\n              strokeWidth={2}\n            />\n          </AreaChart>\n        </ChartContainer>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3014, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/UnitMoneyChart.jsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { TrendingUp, Loader2, RefreshCw, Banknote } from \"lucide-react\";\nimport { Area, AreaChart, CartesianGrid, XAxis } from \"recharts\";\n\nimport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n} from \"@/components/ui/chart\";\n\nexport const description = \"A linear area chart\";\n\nconst chartConfig = {\n  taka: {\n    label: \"Taka\",\n    color: \"#ff6b6b\", // Bright red color to match theme\n  },\n};\n\nexport function UnitMoneyChart() {\n  const [chartData, setChartData] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(null);\n  const [refreshing, setRefreshing] = React.useState(false);\n\n  // Bangladesh electricity tariff calculation function\n  const calculateElectricityCost = (unitsConsumed) => {\n    let cost = 0;\n    let remainingUnits = unitsConsumed;\n\n    // Bangladesh residential electricity tariff slabs (as of 2024)\n    const tariffSlabs = [\n      { limit: 75, rate: 4.5 }, // 0-75 units: 4.5 taka per unit\n      { limit: 125, rate: 5.5 }, // 76-200 units: 5.5 taka per unit\n      { limit: 100, rate: 6.5 }, // 201-300 units: 6.5 taka per unit\n      { limit: 100, rate: 8.5 }, // 301-400 units: 8.5 taka per unit\n      { limit: Infinity, rate: 11.0 }, // 400+ units: 11.0 taka per unit\n    ];\n\n    for (const slab of tariffSlabs) {\n      if (remainingUnits <= 0) break;\n\n      const unitsInThisSlab = Math.min(remainingUnits, slab.limit);\n      cost += unitsInThisSlab * slab.rate;\n      remainingUnits -= unitsInThisSlab;\n    }\n\n    return cost;\n  };\n\n  // Fetch daily cost data from API\n  const fetchDailyCostData = async (isRefresh = false) => {\n    try {\n      if (isRefresh) {\n        setRefreshing(true);\n      } else {\n        setLoading(true);\n      }\n      setError(null);\n\n      const response = await fetch(\"/api/today-data\");\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success && result.data) {\n        // Process the data from our API structure\n        const dataPoints = result.data;\n        \n        // Calculate daily cost based on power consumption using Bangladesh slab-based tariff\n        const dailyCostData = dataPoints.map((item, index) => {\n          const date = new Date();\n          date.setDate(date.getDate() - (dataPoints.length - 1 - index));\n          const dayName = date.toLocaleDateString(\"en-US\", {\n            weekday: \"short\",\n          });\n\n          // Extract power value from the data structure\n          const powerItem = item.data?.find(d => d.code === \"cur_power\");\n          const power = powerItem ? powerItem.value : 0;\n          \n          // Calculate daily power consumption in kWh\n          // Assuming average 8 hours of usage per day\n          const dailyPowerKwh = (power / 1000) * 8;\n\n          // Calculate cost using Bangladesh slab-based tariff\n          const dailyCost = calculateElectricityCost(dailyPowerKwh);\n\n          return {\n            day: dayName,\n            taka: Math.round(dailyCost),\n          };\n        });\n\n        setChartData(dailyCostData);\n      } else {\n        throw new Error(\"Failed to fetch cost data\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching daily cost data:\", err);\n      setError(err.message);\n      // Fallback to sample data on error (calculated using slab rates)\n      setChartData([\n        { day: \"Mon\", taka: 580 }, // ~20 kWh usage\n        { day: \"Tue\", taka: 640 }, // ~22 kWh usage\n        { day: \"Wed\", taka: 750 }, // ~25 kWh usage\n        { day: \"Thu\", taka: 690 }, // ~23 kWh usage\n        { day: \"Fri\", taka: 810 }, // ~27 kWh usage\n        { day: \"Sat\", taka: 730 }, // ~24 kWh usage\n        { day: \"Sun\", taka: 670 }, // ~22 kWh usage\n      ]);\n    } finally {\n      if (isRefresh) {\n        setRefreshing(false);\n      } else {\n        setLoading(false);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    fetchDailyCostData();\n  }, []);\n\n  const handleRefresh = () => {\n    fetchDailyCostData(true);\n  };\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 w-[600px] h-[430px] flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl blur-lg opacity-50\"></div>\n            <div className=\"relative bg-gradient-to-r from-yellow-500 to-orange-600 p-3 rounded-xl\">\n              <Banknote className=\"h-5 w-5 text-white\" />\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">\n              Weekly Electricity Cost\n            </h3>\n            <p className=\"text-sm text-blue-200\">Loading daily cost data...</p>\n          </div>\n        </div>\n\n        {/* Loading Content */}\n        <div className=\"flex-1 flex items-center justify-center bg-white/5 backdrop-blur-sm rounded-xl border border-white/10\">\n          <div className=\"flex items-center gap-3\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-white\" />\n            <span className=\"text-white font-medium\">\n              Loading chart data...\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Show error state\n  if (error && chartData.length === 0) {\n    return (\n      <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 w-[600px] h-[430px] flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-red-400 to-orange-500 rounded-xl blur-lg opacity-50\"></div>\n            <div className=\"relative bg-gradient-to-r from-red-500 to-orange-600 p-3 rounded-xl\">\n              <Banknote className=\"h-5 w-5 text-white\" />\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">\n              Electricity Cost In Weekly\n            </h3>\n            <p className=\"text-sm text-red-200\">Error loading cost data</p>\n          </div>\n        </div>\n\n        {/* Error Content */}\n        <div className=\"flex-1 flex items-center justify-center bg-white/5 backdrop-blur-sm rounded-xl border border-white/10\">\n          <div className=\"text-center space-y-4\">\n            <p className=\"text-sm text-red-200\">{error}</p>\n            <button\n              onClick={handleRefresh}\n              className=\"px-4 py-2 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-xl font-medium hover:shadow-lg transition-all\"\n            >\n              Try again\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 w-[600px] h-[430px] flex flex-col\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl blur-lg opacity-50\"></div>\n            <div className=\"relative bg-gradient-to-r from-yellow-500 to-orange-600 p-3 rounded-xl\">\n              <Banknote className=\"h-5 w-5 text-white\" />\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">\n              Weekly Electricity Cost\n            </h3>\n            <p className=\"text-sm text-blue-200\">\n              Showing weekly electricity cost using Bangladesh slab-based tariff\n              rates\n            </p>\n          </div>\n        </div>\n\n        {/* Refresh Button */}\n        <button\n          onClick={handleRefresh}\n          disabled={refreshing}\n          className=\"flex items-center gap-2 px-3 py-2 bg-white/10 border border-white/20 rounded-xl text-white hover:bg-white/20 transition-all disabled:opacity-50\"\n        >\n          <RefreshCw\n            className={`h-4 w-4 ${refreshing ? \"animate-spin\" : \"\"}`}\n          />\n          <span className=\"text-sm font-medium\">Refresh</span>\n        </button>\n      </div>\n\n      {/* Chart */}\n      <div className=\"flex-1 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-4\">\n        <ChartContainer config={chartConfig} className=\"h-[250px] w-full\">\n          <AreaChart\n            accessibilityLayer\n            data={chartData}\n            margin={{\n              left: 12,\n              right: 12,\n            }}\n          >\n            <defs>\n              <linearGradient id=\"fillTaka\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"#ff6b6b\" stopOpacity={0.8} />\n                <stop offset=\"95%\" stopColor=\"#ff6b6b\" stopOpacity={0.1} />\n              </linearGradient>\n            </defs>\n            <CartesianGrid vertical={false} stroke=\"rgba(255,255,255,0.1)\" />\n            <XAxis\n              dataKey=\"day\"\n              tickLine={false}\n              axisLine={false}\n              tickMargin={8}\n              tick={{\n                fill: \"#ffffff\", // White text for visibility\n                fontSize: 12,\n                fontWeight: 600,\n                style: { fill: \"#EDEDED\" },\n              }}\n              tickFormatter={(value) => value.slice(0, 3)}\n            />\n            <ChartTooltip\n              cursor={false}\n              content={\n                <ChartTooltipContent\n                  className=\"bg-slate-900/95 backdrop-blur-xl border border-white/20 rounded-xl text-white\"\n                  indicator=\"dot\"\n                  hideLabel\n                />\n              }\n            />\n            <Area\n              dataKey=\"taka\"\n              type=\"linear\"\n              fill=\"url(#fillTaka)\"\n              fillOpacity={0.4}\n              stroke=\"#ff6b6b\"\n              strokeWidth={2}\n            />\n          </AreaChart>\n        </ChartContainer>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3617, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/Todaykwh.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Zap, Loader2, TrendingUp } from \"lucide-react\";\n\nexport function Todaykwh() {\n  const [initialLoading, setInitialLoading] = useState(true);\n  const [kwh, setKwh] = useState(0);\n\n  useEffect(() => {\n    const fetchTodayConsumption = async () => {\n      try {\n        const response = await fetch(\"/api/today-consumption\");\n        const result = await response.json();\n\n        if (result.success) {\n          setKwh(result.data.kwh);\n        } else {\n          console.error(\"Failed to fetch:\", result.error);\n        }\n      } catch (error) {\n        console.error(\"Fetch error:\", error);\n      } finally {\n        setInitialLoading(false);\n      }\n    };\n\n    fetchTodayConsumption();\n  }, []);\n\n  return (\n    <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-xl p-6 h-full\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-xl blur-lg opacity-50\"></div>\n            <div className=\"relative bg-gradient-to-r from-blue-500 to-cyan-600 p-2 rounded-xl\">\n              <Zap className=\"h-5 w-5 text-white\" />\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-bold text-white\">Today's kWh</h3>\n            <p className=\"text-sm text-blue-200\">Energy Consumption</p>\n          </div>\n        </div>\n        <div className=\"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center\">\n          <TrendingUp className=\"h-4 w-4 text-blue-300\" />\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"space-y-4\">\n        {initialLoading ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"text-center\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-blue-400 mx-auto mb-3\" />\n              <span className=\"text-white font-medium\">Loading data...</span>\n            </div>\n          </div>\n        ) : (\n          <>\n            {/* kWh Display */}\n            <div className=\"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 backdrop-blur-sm rounded-xl p-6 border border-blue-400/30\">\n              <div className=\"text-center\">\n                <div className=\"text-4xl font-bold text-white mb-2\">\n                  {kwh.toFixed(2)}\n                </div>\n                <div className=\"text-sm text-blue-200 font-medium\">\n                  kWh consumed today\n                </div>\n              </div>\n            </div>\n\n            {/* Status Indicator */}\n            <div className=\"flex items-center justify-between bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></div>\n                <span className=\"text-sm text-white font-medium\">\n                  Device is Active\n                </span>\n              </div>\n              <div className=\"text-xs text-blue-200\">Real-time monitoring</div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAKO,SAAS;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,wBAAwB;YAC5B,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,MAAM,SAAS,MAAM,SAAS,IAAI;gBAElC,IAAI,OAAO,OAAO,EAAE;oBAClB,OAAO,OAAO,IAAI,CAAC,GAAG;gBACxB,OAAO;oBACL,QAAQ,KAAK,CAAC,oBAAoB,OAAO,KAAK;gBAChD;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gBAAgB;YAChC,SAAU;gBACR,kBAAkB;YACpB;QACF;QAEA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,gMAAA,CAAA,MAAG;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGnB,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAA+B;;;;;;kDAC7C,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAGzC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,kNAAA,CAAA,aAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAK1B,8OAAC;gBAAI,WAAU;0BACZ,+BACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,iNAAA,CAAA,UAAO;gCAAC,WAAU;;;;;;0CACnB,8OAAC;gCAAK,WAAU;0CAAyB;;;;;;;;;;;;;;;;yCAI7C;;sCAEE,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACZ,IAAI,OAAO,CAAC;;;;;;kDAEf,8OAAC;wCAAI,WAAU;kDAAoC;;;;;;;;;;;;;;;;;sCAOvD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;;;;;sDACf,8OAAC;4CAAK,WAAU;sDAAiC;;;;;;;;;;;;8CAInD,8OAAC;oCAAI,WAAU;8CAAwB;;;;;;;;;;;;;;;;;;;;;;;;;AAOrD","debugId":null}},
    {"offset": {"line": 3864, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/components/DebugInfo.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\n\nexport function DebugInfo() {\n  const [debugData, setDebugData] = useState({\n    deviceStatus: null,\n    todayConsumption: null,\n    switchStatus: null,\n    errors: []\n  });\n\n  useEffect(() => {\n    const fetchAllData = async () => {\n      const results = {\n        deviceStatus: null,\n        todayConsumption: null,\n        switchStatus: null,\n        errors: []\n      };\n\n      // Test device status\n      try {\n        console.log(\"Testing /api/device-status...\");\n        const deviceResponse = await fetch(\"/api/device-status\");\n        console.log(\"Device status response status:\", deviceResponse.status);\n        \n        if (!deviceResponse.ok) {\n          throw new Error(`HTTP ${deviceResponse.status}: ${deviceResponse.statusText}`);\n        }\n        \n        const deviceData = await deviceResponse.json();\n        console.log(\"Device status data:\", deviceData);\n        results.deviceStatus = deviceData;\n      } catch (error) {\n        console.error(\"Device status error:\", error);\n        results.errors.push(`Device Status: ${error.message}`);\n      }\n\n      // Test today consumption\n      try {\n        console.log(\"Testing /api/today-consumption...\");\n        const consumptionResponse = await fetch(\"/api/today-consumption\");\n        console.log(\"Consumption response status:\", consumptionResponse.status);\n        \n        if (!consumptionResponse.ok) {\n          throw new Error(`HTTP ${consumptionResponse.status}: ${consumptionResponse.statusText}`);\n        }\n        \n        const consumptionData = await consumptionResponse.json();\n        console.log(\"Consumption data:\", consumptionData);\n        results.todayConsumption = consumptionData;\n      } catch (error) {\n        console.error(\"Consumption error:\", error);\n        results.errors.push(`Today Consumption: ${error.message}`);\n      }\n\n      // Test switch status\n      try {\n        console.log(\"Testing /api/switch-status...\");\n        const switchResponse = await fetch(\"/api/switch-status\");\n        console.log(\"Switch status response status:\", switchResponse.status);\n        \n        if (!switchResponse.ok) {\n          throw new Error(`HTTP ${switchResponse.status}: ${switchResponse.statusText}`);\n        }\n        \n        const switchData = await switchResponse.json();\n        console.log(\"Switch status data:\", switchData);\n        results.switchStatus = switchData;\n      } catch (error) {\n        console.error(\"Switch status error:\", error);\n        results.errors.push(`Switch Status: ${error.message}`);\n      }\n\n      setDebugData(results);\n    };\n\n    fetchAllData();\n  }, []);\n\n  return (\n    <div className=\"fixed top-4 right-4 bg-black/80 text-white p-4 rounded-lg max-w-md z-50\">\n      <h3 className=\"text-lg font-bold mb-2\">Debug Info</h3>\n      \n      {debugData.errors.length > 0 && (\n        <div className=\"mb-4\">\n          <h4 className=\"font-semibold text-red-400\">Errors:</h4>\n          <ul className=\"text-sm\">\n            {debugData.errors.map((error, index) => (\n              <li key={index} className=\"text-red-300\">{error}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      <div className=\"space-y-2 text-sm\">\n        <div>\n          <span className=\"font-semibold\">Device Status:</span>\n          <span className={debugData.deviceStatus?.success ? \"text-green-400\" : \"text-red-400\"}>\n            {debugData.deviceStatus ? \"â\" : \"â\"}\n          </span>\n        </div>\n        \n        <div>\n          <span className=\"font-semibold\">Today Consumption:</span>\n          <span className={debugData.todayConsumption?.success ? \"text-green-400\" : \"text-red-400\"}>\n            {debugData.todayConsumption ? \"â\" : \"â\"}\n          </span>\n        </div>\n        \n        <div>\n          <span className=\"font-semibold\">Switch Status:</span>\n          <span className={debugData.switchStatus?.success ? \"text-green-400\" : \"text-red-400\"}>\n            {debugData.switchStatus ? \"â\" : \"â\"}\n          </span>\n        </div>\n      </div>\n\n      {debugData.deviceStatus && (\n        <details className=\"mt-2\">\n          <summary className=\"cursor-pointer text-blue-400\">Device Data</summary>\n          <pre className=\"text-xs mt-1 overflow-auto\">\n            {JSON.stringify(debugData.deviceStatus, null, 2)}\n          </pre>\n        </details>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4096, "column": 0}, "map": {"version":3,"sources":["file:///home/mahir/Documents/GitHub/Energy%20Monitoring%20System/src/app/page.js"],"sourcesContent":["\"use client\";\n\nimport { TodayCost } from \"@/components/TodayCost\";\nimport { ChartAreaInteractive } from \"./Main_chart\";\nimport { DeviceControl } from \"@/components/DeviceControl\";\nimport { UnitkwhChart } from \"@/components/UnitkwhChart\";\nimport { UnitMoneyChart } from \"@/components/UnitMoneyChart\";\nimport React, { useEffect, useState } from \"react\";\nimport { Todaykwh } from \"@/components/Todaykwh\";\nimport { DebugInfo } from \"@/components/DebugInfo\";\n\nexport default function Home() {\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden\">\n      {/* Animated Background Elements */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div\n          className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-10\"\n          style={{\n            animation: \"blob 7s infinite\",\n          }}\n        ></div>\n        <div\n          className=\"absolute top-1/3 right-1/4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-10\"\n          style={{\n            animation: \"blob 7s infinite\",\n            animationDelay: \"2s\",\n          }}\n        ></div>\n        <div\n          className=\"absolute bottom-1/4 left-1/3 w-96 h-96 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-10\"\n          style={{\n            animation: \"blob 7s infinite\",\n            animationDelay: \"4s\",\n          }}\n        ></div>\n      </div>\n\n      <div className=\"container mx-auto p-6 space-y-6 relative z-10 mt-2\">\n        <DebugInfo />\n        <App />\n        <div className=\"space-y-8\">\n          {/* Today's Overview Section */}\n          <div className=\"relative mt-12\">\n            <div className=\"flex items-center gap-4 mb-8\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-xl blur-lg opacity-50\"></div>\n                <div className=\"relative bg-gradient-to-r from-blue-500 to-cyan-600 p-3 rounded-xl\">\n                  <svg className=\"h-6 w-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                  </svg>\n                </div>\n              </div>\n              <div>\n                <h2 className=\"text-3xl font-bold text-white mb-1\">Today&apos;s Overview</h2>\n                <p className=\"text-blue-200 text-lg\">Energy consumption & cost analysis</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-6 pb-2\">\n            <div className=\"flex-1\">\n              <Todaykwh />\n            </div>\n            <div className=\"flex-1\">\n              <TodayCost />\n            </div>\n          </div>\n        </div>\n\n        {/* Power Analytics Section */}\n        <div className=\"space-y-8 mt-20\">\n          <div className=\"relative\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-500 rounded-xl blur-lg opacity-50\"></div>\n                <div className=\"relative bg-gradient-to-r from-purple-500 to-pink-600 p-3 rounded-xl\">\n                  <svg className=\"h-6 w-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                  </svg>\n                </div>\n              </div>\n              <div>\n                <h2 className=\"text-3xl font-bold text-white \">Power Analytics</h2>\n                <p className=\"text-purple-200 text-lg\">Real-time power consumption monitoring</p>\n              </div>\n            </div>\n          </div>\n\n          <ChartAreaInteractive />\n        </div>\n\n        {/* Weekly Analysis Section */}\n        {/* <div className=\"space-y-8 mt-12\">\n          <div className=\"relative\">\n            <div className=\"flex items-center gap-4 mb-8\">\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-500 rounded-xl blur-lg opacity-50\"></div>\n                <div className=\"relative bg-gradient-to-r from-green-500 to-emerald-600 p-3 rounded-xl\">\n                  <svg className=\"h-6 w-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                  </svg>\n                </div>\n              </div>\n              <div>\n                <h2 className=\"text-3xl font-bold text-white mb-1\">Weekly Analysis</h2>\n                <p className=\"text-green-200 text-lg\">7-day energy consumption trends</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-between space-x-6\">\n            <div className=\"flex-1\">\n              <UnitkwhChart />\n            </div>\n            <div className=\"flex-1\">\n              <UnitMoneyChart />\n            </div>\n          </div>\n        </div> */}\n      </div>\n\n      {/* CSS Animation */}\n      <style jsx>{`\n        @keyframes blob {\n          0% {\n            transform: translate(0px, 0px) scale(1);\n          }\n          33% {\n            transform: translate(30px, -50px) scale(1.1);\n          }\n          66% {\n            transform: translate(-20px, 20px) scale(0.9);\n          }\n          100% {\n            transform: translate(0px, 0px) scale(1);\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [blink, setBlink] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Fetch real-time data using API routes\n  const fetchDeviceData = async () => {\n    try {\n      const response = await fetch(\"/api/device-status\");\n      const result = await response.json();\n\n      if (result.success && result.data) {\n        setData(result.data);\n        setIsConnected(true);\n        setBlink(true);\n        setTimeout(() => setBlink(false), 150);\n      } else {\n        console.error(\"Failed to fetch device data:\", result.error);\n        setIsConnected(false);\n      }\n    } catch (error) {\n      console.error(\"Error fetching device data:\", error);\n      setIsConnected(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    // Initial fetch\n    fetchDeviceData();\n\n    // Set up polling for real-time updates (every 5 seconds)\n    const interval = setInterval(fetchDeviceData, 5000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleUserManualDownload = () => {\n    const link = document.createElement(\"a\");\n    link.href = \"/user-manual.pdf\";\n    link.download = \"user-manual.pdf\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const handleInstallationGuideDownload = () => {\n    const link = document.createElement(\"a\");\n    link.href = \"/Project_Setup_Guide.pdf\";\n    link.download = \"Project_Setup_Guide.pdf\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const blinkClass = blink\n    ? \"opacity-0 transition-opacity duration-150\"\n    : \"opacity-100 transition-opacity duration-150\";\n\n  return (\n    <div className=\"font-sans p-6\">\n      {/* Header Section with Glass Effect */}\n      <div className=\"relative backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl p-8 mb-10\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold text-white\">\n            Real-time Energy Monitoring System\n          </h1>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={handleUserManualDownload}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-white/10 border border-white/20 rounded-xl hover:bg-white/20 active:scale-95 transition-all duration-150 ease-in-out shadow-sm hover:shadow-md backdrop-blur-sm\"\n              >\n                User Manual\n              </button>\n              <button\n                onClick={handleInstallationGuideDownload}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-white/10 border border-white/20 rounded-xl hover:bg-white/20 active:scale-95 transition-all duration-150 ease-in-out shadow-sm hover:shadow-md backdrop-blur-sm\"\n              >\n                Installation Guide\n              </button>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div\n                className={`w-3 h-3 rounded-full ${isConnected\n                  ? \"bg-green-400 shadow-lg shadow-green-400/50\"\n                  : \"bg-red-400 shadow-lg shadow-red-400/50\"\n                  }`}\n              ></div>\n              <span className=\"text-sm text-white font-medium\">\n                {isConnected ? \"Connected\" : \"Disconnected\"}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Data Section with Glass Effect */}\n      {isLoading ? (\n        <div className=\"relative backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl shadow-xl p-6\">\n          <div className=\"flex items-center justify-center h-32\">\n            <div className=\"text-center\">\n              <div className=\"w-8 h-8 border-2 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4\"></div>\n              <p className=\"text-white font-medium\">Connecting to device...</p>\n            </div>\n          </div>\n        </div>\n      ) : data ? (\n        <div className=\"flex gap-6\">\n          <div className=\"relative backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl shadow-xl p-6 w-80\">\n            <div className=\"flex flex-col space-y-4\">\n              <div className=\"bg-white/10 backdrop-blur-sm p-6 rounded-xl shadow-sm border border-white/20 hover:bg-white/15 transition-all duration-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm font-medium text-blue-200\">Time</div>\n                  <div className={`font-semibold text-white text-lg ${blinkClass}`}>\n                    {new Date(data.time).toLocaleTimeString()}\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-white/10 backdrop-blur-sm p-6 rounded-xl shadow-sm border border-white/20 hover:bg-white/15 transition-all duration-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm font-medium text-teal-200\">Current</div>\n                  <div className=\"font-semibold text-white text-lg\">\n                    {data.current} mA\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-white/10 backdrop-blur-sm p-6 rounded-xl shadow-sm border border-white/20 hover:bg-white/15 transition-all duration-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm font-medium text-blue-200\">Voltage</div>\n                  <div className=\"font-semibold text-white text-lg\">\n                    {data.voltage} V\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-white/10 backdrop-blur-sm p-6 rounded-xl shadow-sm border border-white/20 hover:bg-white/15 transition-all duration-200\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm font-medium text-red-200\">Power</div>\n                  <div className=\"font-semibold text-white text-lg\">\n                    {data.power} W\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Device Control on the right */}\n          <div className=\"flex-1\">\n            <DeviceControl />\n          </div>\n        </div>\n      ) : (\n        <div className=\"relative backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl shadow-xl p-6\">\n          <div className=\"flex items-center justify-center h-32\">\n            <div className=\"text-center\">\n              <div className=\"w-8 h-8 border-2 border-red-400/30 border-t-red-400 rounded-full animate-spin mx-auto mb-4\"></div>\n              <p className=\"text-white font-medium\">Failed to connect to device</p>\n              <p className=\"text-red-200 text-sm mt-2\">Check device connection and try again</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}